plugins {
    id 'java'
    id 'org.jetbrains.kotlin.jvm' version '1.9.20'
    id 'org.jetbrains.compose' version '1.5.11'
    id 'org.jetbrains.dokka' version '1.9.20'
}

group = 'top.liewyoung'
version = '1.0-SNAPSHOT'

repositories {
    mavenCentral()
    // Compose 桌面版专用的仓库
    maven { url "https://maven.pkg.jetbrains.space/public/p/compose/interactive" }
}

dependencies {
    // 1. 基础工具类
    implementation 'com.fasterxml.jackson.core:jackson-databind:2.16.1'
    implementation "com.formdev:flatlaf:3.7"
    // 核心 Polyglot 支持
    implementation("org.graalvm.polyglot:polyglot:25.0.1")
    // Python 语言支持
    implementation("org.graalvm.polyglot:python:25.0.1")

    // 2. Kotlin JVM 标准库 (非 Android 版)
    implementation "org.jetbrains.kotlin:kotlin-stdlib"

    // 3. Compose Desktop 核心
    implementation compose.desktop.currentOs
    implementation compose.material3
}

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}


compose.desktop {
    application {
        mainClass = "top.liewyoung.Main"
    }
}